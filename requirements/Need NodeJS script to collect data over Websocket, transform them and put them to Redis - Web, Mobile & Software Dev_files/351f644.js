(function(angular){"use strict";angular.module("jobDetails",["ngRoute","ngResource","ngSanitize","jobDetails.controllers","jobDetails.directives","jobDetails.filters","jobDetails.services","components.core.psmetrics","components.core.config","components.core.fields.input","components.core.jobsuccess","components.core.log","components.core.modal","components.core.navigation","components.core.popover","components.core.rating","components.core.smf","components.core.templates","components.core.time","components.core.alert","components.core.select","jobDetailsBundle","jobOwnerActionsBundle","jobDetails.common","jobDetails.ptc","jobDetailsBundle.common","jobDetails.user","jobDetails.templates"]);angular.module("jobDetails").service("jobDetailsOpening",["openingUid","openingId","openingCiphertext",function(openingUid,openingId,openingCiphertext){return{getUid:function(){return openingUid},getCiphertext:function(){return openingCiphertext},getId:function(){return openingId}}}])})(angular);
(function(angular){"use strict";angular.module("jobDetails.common",[]).config(["$sceDelegateProvider",function($sceDelegateProvider){$sceDelegateProvider.resourceUrlWhitelist(["self","https://www.upwork.com/static/**","https://*.static-upwork.com/**"])}])})(angular);
(function(angular,Applet){"use strict";var odesk=angular.module("jobDetails"),psmetricsTrafficRate=Applet.getVar("psmetricsTrafficRate");if(psmetricsTrafficRate){odesk.constant("PSMETRICS_TRAFFIC_RATE",psmetricsTrafficRate);odesk.config(["$provide",function($provide){$provide.decorator("eoPSMetricsList",function($delegate,$window){$delegate.mainContentRendered=function(){return $window.performance&&$window.performance.getEntriesByName&&$window.performance.getEntriesByName("mainContentRendered").length>0?$window.performance.getEntriesByName("mainContentRendered")[0].duration:undefined};return $delegate})}])}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetails.common").controller("SkillsPopoverController",["$scope",function($scope){$scope.skills=[]}])})(angular);
(function(angular){"use strict";try{angular.module("jobDetails.templates")}catch(e){angular.module("jobDetails.templates",[])}})(angular);
angular.module("jobDetails.templates",["/job-details/bundles/odeskjobdetails/partials/group-info.html","/job-details/bundles/upworkjobdetails/partials/apply-button-popover.html","/job-details/bundles/upworkjobdetails/partials/bid-range-popover.html","/job-details/bundles/upworkjobdetails/partials/bid-range.html","/job-details/bundles/upworkjobdetails/partials/bids.html","/job-details/bundles/upworkjobdetails/partials/client-work-history.html","/job-details/bundles/upworkjobdetails/partials/closejobpopup.html","/job-details/bundles/upworkjobdetails/partials/connects-popover-staffaug.html","/job-details/bundles/upworkjobdetails/partials/connects-popover.html","/job-details/bundles/upworkjobdetails/partials/connects-subscription-popover.html","/job-details/bundles/upworkjobdetails/partials/flagging-popover.html","/job-details/bundles/upworkjobdetails/partials/group-info.html","/job-details/bundles/upworkjobdetails/partials/not-enough-connects-ac-popup.html","/job-details/bundles/upworkjobdetails/partials/not-enough-connects-popup.html","/job-details/bundles/upworkjobdetails/partials/not-subscribed-agency-popup.html","/job-details/bundles/upworkjobdetails/partials/not-verified.html","/job-details/bundles/upworkjobdetails/partials/other-jobs.html","/job-details/bundles/upworkjobdetails/partials/save-job-ajax-fail-modal.html","/job-details/bundles/upworkjobdetails/partials/savejoblink.html","/job-details/bundles/upworkjobdetails/partials/select-team-popup.html","/job-details/bundles/upworkjobdetails/partials/similar-jobs.html","/job-details/bundles/upworkjobdetails/partials/skillpopup.html","/job-details/bundles/upworkjobdetails/partials/skills.html","/job-details/bundles/upworkjobdetails/partials/us-market-location-infographic-tooltip.html","/job-details/bundles/upworkjobdetails/partials/us-market-location-requirement-tooltip-content.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-ach-dialog.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog-affiliate-manager.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog-exclusive-contractor.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog-affiliate-manager.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog-exclusive-contractor.html","/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog.html","/job-details/bundles/upworkjobdetails/partials/verification-complete-popup.html","/job-details/bundles/upworkjobdetails/partials/verification-hardreject-popup.html","/job-details/bundles/upworkjobdetails/partials/verification-needed-popup.html","/job-details/bundles/upworkjobdetails/partials/verification-softreject-popup.html","/job-details/bundles/upworkjobdetails/partials/verification-under-review-popup.html","/job-details/bundles/upworkjobdetails/partials/verified.html"]);angular.module("/job-details/bundles/odeskjobdetails/partials/group-info.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/odeskjobdetails/partials/group-info.html",'<div data-ng-controller=GroupPopoverController><img src="{{ group.groupLogo }}" class=m-sm-bottom><br>This is an Upwork group where clients find pre-screened freelancers. You can apply to join the group.</div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/apply-button-popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/apply-button-popover.html","<aside ng-controller=JobsProviderActionPopoverController>To submit a proposal, <a href=/profile/edit-hourly-rate>update your profile rate</a> to ${{ minRate }}/hour or more</aside>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/bid-range-popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/bid-range-popover.html","<aside data-bid-range class=text-center></aside>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/bid-range.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/bid-range.html",'<aside class=text-center><h2 class=m-0-top-bottom><span>Upgrade to a Plus plan for more Connects and other perks.</span></h2><p class=m-md-top-bottom>High $<span class=filled-box>&nbsp;</span> Avg $<span class=filled-box>&nbsp;</span> Low $<span class=filled-box>&nbsp;</span></p><a href="/ab/plans/membership/change-plan?returnUrl={{ membershipChangePlanReturnUrl }}" class="btn btn-primary m-0">Upgrade Membership</a></aside>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/bids.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/bids.html",'<div class=row data-ng-if=showBidsBlock><div class="col-md-12 m-sm-top"><h3 class=m-0-bottom data-ng-show=showUpgradeHint><div class=bid-range data-ng-cloak><strong>Upgrade your membership to see the bid range</strong> <a aria-hidden=true data-eo-popover="{{ popoverPartialUrl }}" data-eo-popover-size=lg data-eo-popover-placement=top data-eo-popover-animation=false data-eo-popover-popup-delay=200 data-eo-popover-trigger=mouseenter data-eo-popover-hoverable=true><span aria-hidden=true class="glyphicon air-icon-question-circle"></span></a></div></h3><h3 class=m-0-bottom data-ng-show=showBids>Bid range - <strong>High ${{ bidStats.maxRateBid.amount | number:2 }} | Avg ${{ bidStats.avgRateBid.amount | number:2 }} | Low ${{ bidStats.minRateBid.amount | number:2 }}</strong></h3></div></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/client-work-history.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/client-work-history.html",'<header class=p-lg-bottom><h2 class=m-0-top>Client\'s Work History and Feedback ({{ historyLength }})</h2><a href=# class=m-0-top ng-if=jobsInProgress.length ng-init="data.showJobsInProgress = false" ng-click="data.showJobsInProgress = !data.showJobsInProgress" ng-class="{\'isCollapsed\':!data.showJobsInProgress}"><span class="glyphicon vertical-align-middle" aria-hidden=true ng-class="{\n'+"            'air-icon-arrow-expand-circle': !data.showJobsInProgress,\n"+"            'air-icon-arrow-collapse-circle': data.showJobsInProgress\n"+'        }"></span> Jobs in progress</a></header><div ng-if=jobsInProgress.length><section ng-show=data.showJobsInProgress ng-repeat="job in jobsInProgress"><h4 class="m-0-top m-md-bottom block"><span ng-if="(job.jobInfo.access == 2 || job.isEDCReplicated) && !job.isPtcPrivate">{{ job.jobInfo.title }} </span><span ng-if=job.isPtcPrivate>Private Job </span><span ng-if="job.jobInfo.access != 2 && !job.isEDCReplicated && !job.isPtcPrivate"><a href="{{ baseUri }}{{ job.jobInfo.title | seoUrl:job.jobInfo.ciphertext:false }}" ng-attr-target="{{ openLinksInNewWindow ? \'_blank\' : \'_self\' }}">{{ job.jobInfo.title }}</a></span></h4><div class=row><div class=col-md-8><p class=m-sm-bottom><i>Job in progress</i></p><small class=text-muted>Freelancer <a ng-if="job.contractorInfo.accessType!=2 && !job.isEDCReplicated" href="/users/{{ job.contractorInfo.ciphertext }}" ng-attr-target="{{ openLinksInNewWindow ? \'_blank\' : \'_self\' }}">{{ job.contractorInfo.contractorName}} </a><span ng-if="job.contractorInfo.accessType == 2 || job.isEDCReplicated">{{ job.contractorInfo.contractorName}}</span></small></div><div class="col-md-4 text-right"><div class=job-timeframe>{{ job.startDate | date: \'MMM y\': \'UTC\' }} - <span ng-if=job.endDate>{{ job.endDate | date: \'MMM y\': \'UTC\' }} </span><span ng-if=!job.endDate>Present</span></div><div ng-if="job.jobInfo.type == 2 && job.isEDCPublic"><strong>{{job.totalHours}} hrs <span ng-if="job.rate && showBudget">@ {{job.rate.amount | currency : $}}/hr</span></strong><div ng-if="job.totalCharge && showBudget">Billed: {{job.totalCharge | currency : $}}</div></div></div></div></section></div><section ng-repeat="job in shownHistory"><h4 class="m-0-top m-md-bottom"><span ng-if="(job.jobInfo.access == 2 || job.isEDCReplicated) && !job.isPtcPrivate">{{ job.jobInfo.title }} </span><span ng-if=job.isPtcPrivate>Private Job </span><span ng-if="job.jobInfo.access != 2 && !job.isEDCReplicated && !job.isPtcPrivate"><a href="{{ baseUri }}{{ job.jobInfo.title | seoUrl:job.jobInfo.ciphertext:false }}" ng-attr-target="{{ openLinksInNewWindow ? \'_blank\' : \'_self\' }}">{{ job.jobInfo.title }}</a></span></h4><div class=row><div class=col-md-8><div ng-if=job.endDate><p class="m-sm-bottom text-muted" ng-if="!job.feedbackToClient && !job.isEDCReplicated">No feedback given</p><p class=m-sm-bottom ng-if="job.feedbackToClient && !job.isEDCReplicated"><span data-eo-rating class="work-rating vertical-align-middle" data-read-only=true data-ng-model=job.feedbackToClient.score data-star-radius=8 data-star-empty-color=#E0E0E0 data-star-fill-color=#5BBC2E data-container-color=#F9F9F9 data-rating-define=star data-eo-tooltip="{{ job.feedbackToClient.score | number:2 }} stars" data-eo-tooltip-trigger=mouseenter data-eo-tooltip-placement=bottom></span> <span data-eo-truncation-html-unsafe=job.feedbackToClient.comment data-eo-chars-threshold=150></span></p><small class=text-muted>To Freelancer: <a ng-if="job.contractorInfo.accessType != 2 && !job.isEDCReplicated" href="/users/{{ job.contractorInfo.ciphertext }}" ng-attr-target="{{ openLinksInNewWindow ? \'_blank\' : \'_self\' }}">{{ job.contractorInfo.contractorName}} </a><span ng-if="job.contractorInfo.accessType == 2 || job.isEDCReplicated">{{ job.contractorInfo.contractorName}} </span><span><span class="work-rating m-sm-left vertical-align-text-bottom" data-eo-rating data-ng-if="job.feedback && (!job.isEDCReplicated || (job.isEDCReplicated && (job.feedback.score > 0 || job.feedback.comment)))" data-read-only=true data-ng-model=job.feedback.score data-star-radius=6 data-star-empty-color=#E0E0E0 data-star-fill-color=#5BBC2E data-container-color=#F9F9F9 data-rating-define=star data-eo-tooltip="{{ job.feedback.score | number:2 }} stars" data-eo-tooltip-trigger=mouseenter data-eo-tooltip-placement=bottom></span> </span><span ng-if="!job.feedback || (job.isEDCReplicated && !job.feedback.comment && !job.feedback.score)">No feedback given</span></small></div><div ng-if=!job.endDate><p class=m-sm-bottom><i>Job in progress</i></p><small class=text-muted>To Freelancer: <a ng-if="job.contractorInfo.accessType != 2 && !job.isEDCReplicated" href="/users/{{ job.contractorInfo.ciphertext }}" ng-attr-target="{{ openLinksInNewWindow ? \'_blank\' : \'_self\' }}">{{ job.contractorInfo.contractorName}} </a><span ng-if="job.contractorInfo.accessType == 2 || job.isEDCReplicated">{{ job.contractorInfo.contractorName}}</span></small></div></div><div class="col-md-4 text-right"><div class=job-timeframe>{{ job.startDate | date: \'MMM y\' : \'UTC\' }} - <span ng-if=job.endDate>{{ job.endDate | date: \'MMM y\' : \'UTC\' }} </span><span ng-if=!job.endDate>Present</span></div><div ng-if="job.jobInfo.type == 1 && job.isEDCPublic">Fixed Price <span ng-if="job.totalCharge && showBudget">{{job.totalCharge | currency : $}}</span></div><div ng-if="job.jobInfo.type == 2 && job.isEDCPublic"><strong>{{job.totalHours}} hrs <span ng-if="job.rate && showBudget">@ {{job.rate.amount | currency : $}}/hr</span></strong><div ng-if="job.totalCharge && showBudget">Billed: {{job.totalCharge | currency : $}}</div></div></div></div></section><footer ng-if=history.length class=p-md-top><a href=# ng-click=showMore()>({{ history.length }}) more</a></footer>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/closejobpopup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/closejobpopup.html",'<div class=modal-header><h3 class=modal-title>Close Job</h3></div><form action="{{ closeJobUrl }}" method=post><div class=modal-body><p>Use this to close your job to new applicants and notify current applicants. Those you have hired will not be affected.</p><input type=hidden name=key value="{{ ciphertext }}"> <input type=hidden name=company value="{{ openingTeamId }}"> <input type=hidden name=redir value="{{ url }}"> <input type=hidden name=token value="{{ token }}"><p ng-show="{{ needReason }}"><label class=oLabel for=op_reason>Reason for closing</label><select name=op_reason id=op_reason ng-model=reason><option ng-repeat="reasonClosed in reasons" value="{{ reasonClosed[0] }}">{{ reasonClosed[1] }}</option></select></p></div><div class=modal-footer><button class="btn btn-primary m-0-top m-0-bottom" ng-disabled="needReason && !reason">Yes, Close Job</button> <a class="btn m-0-top m-0-bottom" href=# ng-click=modal.close() id=closeJobProfileDialog>Cancel</a></div></form>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/connects-popover-staffaug.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/connects-popover-staffaug.html","<div>Connects must be available to submit a proposal, but won’t be collected unless a proposal is shortlisted. <a href=https://support.upwork.com/hc/en-us/articles/221051367-Team-Builder-Beta-Program-for-Freelancers#hiring>Learn More</a>.</div>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/connects-popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/connects-popover.html","<div>This is the number of Connects required to submit a proposal for this job. <a target=_blank href=https://support.upwork.com/entries/61069964>Learn More</a>.</div>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/connects-subscription-popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/connects-subscription-popover.html",'<aside data-ng-controller=ConnectsPopoverController><h3 class=m-0-top>Connects Required <a href data-ng-click=close() class="pull-right glyphicon glyphicon-sm air-icon-close m-0" aria-hidden=true></a></h3>Connects are now required to submit a proposal. The number of Connects required per proposal varies according to the type of job posting and the budget of the job. <a target=_blank href=https://support.upwork.com/entries/61069964>Learn More</a></aside>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/flagging-popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/flagging-popover.html",'<aside class=eo-block-none data-eo-block={{isLoading}} class=flagging-popover data-ng-controller=JobDetailsFlaggingPopupController><h3>Flag as inappropriate</h3><form><div class=checkbox data-ng-repeat="flag in reasons"><label><input type=checkbox value="{{ flag.rid }}" id="flagId{{ flag.rid }}" data-ng-checked=flag.model data-ng-model=flag.model>{{ flag.reasonString }}</label></div><p class="alert alert-danger" data-ng-show=error>Sorry, Flagging is temporarily unavailable</p><div class=m-md-top><button class="btn btn-primary m-0-top m-0-bottom" data-ng-click=submit()>Submit</button> <a href=# class="btn m-0-top m-0-bottom" data-ng-click=cancel()>Cancel</a></div></form></aside>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/group-info.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/group-info.html",'<div data-ng-controller=GroupPopoverController><img src="{{ group.groupLogo }}" class=m-sm-bottom><br>This is an Upwork group where clients find pre-screened freelancers. You can apply to join the group.</div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/not-enough-connects-ac-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/not-enough-connects-ac-popup.html",'<div class=modal-header><button type=button class=close ng-click=cancel()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h4 class=modal-title>You don\'t have enough Connects to submit a proposal.</h4></div><div class=modal-body>To submit a proposal, contact your manager about buying additional Connects.</div><div class=modal-footer><button class="btn btn-primary m-0-bottom" ng-click=ok()>Close</button> <button class="btn btn-warning m-0-bottom" ng-click=cancel()>Back</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/not-enough-connects-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/not-enough-connects-popup.html",'<div class=modal-header><button type=button class=close ng-click=cancel()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h4 class=modal-title>Oh no! You don\'t have enough Connects to submit a proposal.</h4></div><div class=modal-body>Please contact your company Administrator to purchase more Connects so that you may submit a proposal.</div><div class=modal-footer><button class="btn btn-warning m-0-bottom" ng-click=cancel()>Close</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/not-subscribed-agency-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/not-subscribed-agency-popup.html",'<div class=modal-header><button type=button class=close ng-click=cancel()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h4 class=modal-title>You need to be part of an Agency Plus membership.</h4></div><div class=modal-body>In order to submit a proposal, please contact your manager or administrator about upgrading to the Agency Plus membership plan. <a target=_blank href=https://support.upwork.com/entries/61866340>Learn More</a></div><div class=modal-footer><button class="btn btn-primary m-0-bottom" ng-click=ok()>Close</button> <button class="btn btn-link m-0-bottom" ng-click=cancel() ng-if=hasBack>Back</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/not-verified.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/not-verified.html","<div>This client does not have a verified payment method with Upwork. <a target=_blank href=https://support.upwork.com/entries/23116462>Learn how this affects your payment protection.</a></div>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/other-jobs.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/other-jobs.html","<section><ul class=list-unstyled id=otherOpenJobs><li ng-repeat=\"job in shownJobs\"><strong ng-if=!job.isPtcPrivate><a href=\"{{ baseUri }}{{ job.title | seoUrl:job.ciphertext }}\" ng-attr-target=\"{{ openLinksInNewWindow ? '_blank' : '_self' }}\">{{ job.title }} </a></strong><strong ng-if=job.isPtcPrivate>Private Job </strong>- {{ job.type == 1 ? 'Fixed Price' : 'Hourly' }}</li></ul></section><footer ng-if=remaining.length class=p-lg-top><a href=\"\" ng-click=showMore()>({{ remaining.length }}) more</a></footer>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/save-job-ajax-fail-modal.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/save-job-ajax-fail-modal.html","<div class=modal-header><h4 class=modal-title>Saving Job Error</h4></div><div class=modal-body>Service is temporary unavailable. Please try later.</div>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/savejoblink.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/savejoblink.html",'<a class="btn btn-default btn-block m-0-top m-0-bottom" ng-click=saveJobClick()><span class="glyphicon m-0-left" aria-hidden=true ng-class="{\n'+"        'air-icon-favorite-deactivated': !isActive,\n"+"        'air-icon-favorite-activated': isActive\n"+'    }"></span> {{saveJobLinkTitle}}</a>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/select-team-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/select-team-popup.html","<div class=modal-header><button type=button class=close ng-click=close()><span class=\"glyphicon air-icon-close m-0\" aria-hidden=true></span> <span class=sr-only>Close</span></button><h3 class=modal-title>How will you be submitting a proposal for this job?</h3></div><form><div class=\"modal-body select-team-popup\"><p>Select how you'll be submitting a proposal to this job</p><p><label class=oLabel><input type=radio name=applyAs value=ic ng-model=applyAs> as a freelancer <span class=text-muted>(<ng-pluralize ng-if=connectsData.pricesDifferent count=connectsData.connectsForApply.ic.jobsPrice when=\"{'1': 'requires {}&nbsp;connect, ',\n"+"                     'other': 'requires {}&nbsp;connects, '}\"></ng-pluralize><ng-pluralize count=connectsData.connectsForApply.ic.connects when=\"{'1': '{}&nbsp;connect available',\n"+"                     'other': '{}&nbsp;connects available'}\"></ng-pluralize>)</span></label></p><p data-ng-repeat=\"agency in connectsData.connectsForApply.ac\"><label class=oLabel data-ng-hide=agency.isHiddenOnDomestic><input type=radio name=applyAs value=\"{{ agency.agencyRecno }}\" ng-model=$parent.applyAs> as an agency member under {{ agency.agencyName }} <span class=text-muted>(<ng-pluralize ng-if=connectsData.pricesDifferent count=agency.jobsPrice when=\"{'1': 'requires {}&nbsp;connect, ',\n"+"                     'other': 'requires {}&nbsp;connects, '}\"></ng-pluralize><ng-pluralize count=agency.connects when=\"{'1': '{}&nbsp;connect available',\n"+'                     \'other\': \'{}&nbsp;connects available\'}"></ng-pluralize>)</span></label></p><p data-ng-if=connectsData.domesticHasHiddenAgencies class="text-muted m-0 p-lg-right"><strong>Why don’t I see all my agencies?</strong> This job has a U.S. location requirement, so you can only apply under your U.S.-based agencies or as a freelancer.</p></div><div class=modal-footer><button class="btn btn-primary" ng-disabled=!applyAs ng-click=continue()>Continue</button> <button class="btn btn-link" ng-click=close()>Back</button></div></form>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/similar-jobs.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/similar-jobs.html",'<header><h2 class=m-0-bottom>Similar Jobs on Upwork</h2></header><section><ul class="list-unstyled eoTruncateList" id=jobsSimilarList><li class=break ng-repeat="job in similarJobs"><strong class="m-xs-bottom m-0-top"><a href="{{ baseUri }}{{ job.title | seoUrl:job.ciphertext }}" ng-click="logOpeningClick($event, job.ciphertext)" ng-attr-target="{{ openLinksInNewWindow ? \'_blank\' : \'_self\' }}">{{ job.title }} </a></strong>{{ job.snippet }}</li></ul></section>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/skillpopup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/skillpopup.html","<div ng-controller=JobDetailsSkillsController><span ng-if=skill.description>{{skill.description}}</span> <a target=_blank href={{skill.externalLink}} ng-if=skill.domain>{{skill.domain}}</a></div>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/skills.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/skills.html",'<span ng-repeat="skill in skills"><a ng-if="!isVisitorMode && (skill.description || skill.domain)" href=/o/jobs/browse/skill/{{skill.skill}}/ class="o-tag-skill m-0-top m-xs-bottom" target="{{isSlider ? \'_blank\' : \'_self\'}}" eo-popover="{{ popoverTemplate }}" eo-popover-trigger=mouseenter eo-popover-placement=bottom eo-popover-animation=false eo-popover-close=false eo-popover-popup-delay=200 eo-popover-hoverable=true>{{skill.prettyName}}</a> <a ng-if="!isVisitorMode && !skill.prettyName" target="{{isSlider ? \'_blank\' : \'_self\'}}" href=/o/jobs/browse/skill/{{skill.skill}}/ class="o-tag-skill m-0-top m-xs-bottom">{{skill.skill}}</a> <a ng-if="!isVisitorMode && !skill.description && !skill.domain && skill.prettyName" target="{{isSlider ? \'_blank\' : \'_self\'}}" href=/o/jobs/browse/skill/{{skill.skill}}/ class="o-tag-skill m-0-top m-xs-bottom">{{skill.prettyName}}</a> <a ng-if="isVisitorMode && skill.prettyName" target="{{isSlider ? \'_blank\' : \'_self\'}}" href=/o/jobs/browse/skill/{{skill.skill}}/ class="o-tag-skill m-0-top m-xs-bottom">{{skill.prettyName}}</a> <a ng-if="isVisitorMode && !skill.prettyName" target="{{isSlider ? \'_blank\' : \'_self\'}}" href=/o/jobs/browse/skill/{{skill.skill}}/ class="o-tag-skill m-0-top m-xs-bottom">{{skill.skill}}</a></span>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-location-infographic-tooltip.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-location-infographic-tooltip.html","<span data-ng-if=::isTooltipEnabled class=domestic-extra-large-tooltip><span data-eo-popover={{::tooltipTemplateUrl}} data-eo-popover-popup-delay=1 data-eo-popover-size=lg data-eo-popover-close=false data-eo-popover-trigger=mouseenter data-eo-popover-placement={{::placement}}><ng-transclude></ng-transclude></span></span><span data-ng-if=::!isTooltipEnabled><ng-transclude></ng-transclude></span>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-location-requirement-tooltip-content.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-location-requirement-tooltip-content.html",'<div class="domestic-infographic-tooltip p-sm-top-bottom p-sm-left-right"><h5 class="text-center m-0-top"><span aria-hidden=true class="glyphicon air-icon-local"></span> U.S. exclusive opportunities</h5><div class="m-md-top-bottom text-center">U.S. clients have posted these jobs exclusively for<br>talent within the U.S.</div><div class=p-sm-top><hr class=m-0></div><div class="m-md-top p-sm-top"><h5 class="text-center m-0-top m-md-bottom">These jobs on average have:</h5><div class=row><div class="col-md-4 p-0-left"><div class="text-center text-muted text-uppercase">Higher rates</div><div class="text-center lead lead-lg m-xs-top-bottom color-primary">75%</div><div class=text-center>higher rates</div></div><div class="col-md-4 p-0-left-right"><div class="text-center text-muted text-uppercase">Less competition</div><div class="text-center lead lead-lg m-xs-top-bottom color-primary">20%</div><div class=text-center>of all freelancers have access to these jobs</div></div><div class="col-md-4 p-0-right"><div class="text-center text-muted text-uppercase">More earnings</div><div class="text-center lead lead-lg m-xs-top-bottom color-primary">50%</div><div class=text-center>larger contract size</div></div></div></div></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-ach-dialog.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-ach-dialog.html",'<div class=modal-body><div class="m-lg-bottom text-center"><div class="globe center-block m-md-bottom" style="width: 100px; height: 100px"></div><h3 class=m-0-bottom>Confirm your location to help U.S. clients find you</h3></div><p class=m-md-bottom><strong>We\'ve made it easier for clients in the U.S. to find you!</strong> Clients can now specify when they\'re looking for freelancers in their own country, so you\'ll start to see jobs with a U.S. location requirement.</p><p class=m-md-bottom>To verify your location, you\'ll need to add a bank account so we can confirm you reside in the U.S. This will not replace your withdrawal method on file and is simply used as a way to verify your location.</p><p class=m-0-bottom><em>A verified bank account is required to submit proposals for these jobs.</em> <a href=https://support.upwork.com/hc/en-us/articles/115005613127 target=_blank>Learn more</a></p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onAddBankAccountClick()>Verify my bank account</button> <button class="btn btn-link" data-ng-click=onDismiss()>Cancel</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog-affiliate-manager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog-affiliate-manager.html",'<div class=modal-header><button type=button class=close data-ng-click=onDismiss()><span class="glyphicon glyphicon-md air-icon-close m-0" aria-hidden=true></span><span class=sr-only>Close</span></button><h2 class=modal-title>It\'s now easier to verify your location to access U.S. exclusive jobs!</h2></div><div class=modal-body><h3>Verify in real-time via driver\'s license, state ID card, or United States passport &mdash; no bank account needed.</h3><div class="m-lg-bottom text-center"><div class="location center-block m-md-bottom"></div></div><h3 class=m-sm-bottom>Jobs with a location requirement:</h3><p class=m-md-bottom>Clients have the option to make their jobs available to freelancers and agencies within their country only. In order for your agency to participate, you and your U.S.-based agency members have to first verify your location. <strong>Only members that have verified their location are eligible to submit proposals.</strong></p><h3 class=m-sm-bottom>Instantly verify your location:</h3><p class=m-0-bottom>To verify, simply upload an image of your U.S. state issued driver’s license, state ID card, green card or United States passport. You’ll only need to do this once, and verification happens in real time.</p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onVerifyLocationClick()>Verify Your Location Now</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog-exclusive-contractor.html",[]).run(["$templateCache",function($templateCache){
$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog-exclusive-contractor.html",'<div class=modal-header><button type=button class=close data-ng-click=onDismiss()><span class="glyphicon glyphicon-md air-icon-close m-0" aria-hidden=true></span><span class=sr-only>Close</span></button><h2 class=modal-title>It\'s now easier to verify your location to access U.S. exclusive jobs!</h2></div><div class=modal-body><h3>Verify in real-time via driver\'s license, state ID card, or United States passport &mdash; no bank account needed.</h3><div class="m-lg-bottom text-center"><div class="location center-block m-md-bottom"></div></div><h3 class=m-sm-bottom>Jobs with a location requirement:</h3><p class=m-md-bottom>Clients have the option to make their jobs available to freelancers and agencies within their country only. In order for your agency to participate, you have to first verify your location.</p><h3 class=m-sm-bottom>Instantly verify your location:</h3><p class=m-0-bottom>Simply upload an image of your U.S. state issued driver’s license, state ID card, green card or United States passport. You’ll only need to do this once, and verification happens in real time.</p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onVerifyLocationClick()>Verify Your Location Now</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-continue-dialog.html",'<div class=modal-header><button type=button class=close data-ng-click=onDismiss()><span class="glyphicon glyphicon-md air-icon-close m-0" aria-hidden=true></span><span class=sr-only>Close</span></button><h2 class=modal-title>It\'s now easier to verify your location to access U.S. exclusive jobs!</h2></div><div class=modal-body><h3>Verify in real-time via driver’s license, state ID or United States passport &mdash; no bank account needed.</h3><div class="m-lg-bottom text-center"><div class="location center-block m-md-bottom"></div></div><h3 class=m-sm-bottom>Jobs with a location requirement:</h3><p class=m-md-bottom>Clients have the option to post their jobs to freelancers within their country only. To submit proposals for these jobs, you have to first verify your location.</p><h3 class=m-sm-bottom>Instantly verify your location:</h3><p class=m-0-bottom>Simply upload an image of your U.S. state issued driver’s license, state ID card, green card or United States passport. You’ll only need to do this once, and verification happens in real time.</p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onVerifyLocationClick()>Verify Location Now</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog-affiliate-manager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog-affiliate-manager.html",'<div class=modal-header><button type=button class=close data-ng-click=onDismiss()><span class="glyphicon glyphicon-md air-icon-close m-0" aria-hidden=true></span><span class=sr-only>Close</span></button><h2 class=modal-title>Get your agency access to U.S. exclusive jobs</h2></div><div class=modal-body><div class="m-lg-bottom text-center"><div class="location center-block m-md-bottom"></div></div><h3 class=m-sm-bottom>Jobs with a location requirement:</h3><p class=m-md-bottom>Clients have the option to make their jobs available to freelancers and agencies within their country only. In order for your agency to participate, you and your U.S.-based agency members have to first verify your location. <strong>Only members that have verified their location are eligible to submit proposals.</strong></p><h3 class=m-sm-bottom>Instantly verify your location:</h3><p class=m-0-bottom>To verify, simply upload an image of your U.S. state issued driver’s license, state ID card, green card or United States passport. You’ll only need to do this once, and verification happens in real time.</p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onVerifyLocationClick()>Verify Your Location Now</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog-exclusive-contractor.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog-exclusive-contractor.html",'<div class=modal-header><button type=button class=close data-ng-click=onDismiss()><span class="glyphicon glyphicon-md air-icon-close m-0" aria-hidden=true></span><span class=sr-only>Close</span></button><h2 class=modal-title>Get access to U.S. exclusive jobs</h2></div><div class=modal-body><div class="m-lg-bottom text-center"><div class="location center-block m-md-bottom"></div></div><h3 class=m-sm-bottom>Jobs with a location requirement:</h3><p class=m-md-bottom>Clients have the option to make their jobs available to freelancers and agencies within their country only. In order for your agency to participate, you have to first verify your location.</p><h3 class=m-sm-bottom>Instantly verify your location:</h3><p class=m-0-bottom>Simply upload an image of your U.S. state issued driver’s license, state ID card, green card or United States passport. You’ll only need to do this once, and verification happens in real time.</p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onVerifyLocationClick()>Verify Your Location Now</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/us-market-verify-idv-dialog.html",'<div class=modal-header><button type=button class=close data-ng-click=onDismiss()><span class="glyphicon glyphicon-md air-icon-close m-0" aria-hidden=true></span><span class=sr-only>Close</span></button><h2 class=modal-title>Verify your location to access U.S. exclusive jobs</h2></div><div class=modal-body><div class="m-lg-bottom text-center"><div class="location center-block m-md-bottom"></div></div><h3 class=m-sm-bottom>Jobs with a location requirement:</h3><p class=m-md-bottom>Clients have the option to post their jobs to freelancers within their country only. To submit proposals for these jobs, you have to first verify your location.</p><h3 class=m-sm-bottom>Instantly verify your location:</h3><p class=m-0-bottom>Simply upload an image of your U.S. state issued driver’s license, state ID card, green card or United States passport. You’ll only need to do this once, and verification happens in real time.</p></div><div class=modal-footer><button class="btn btn-primary" data-ng-click=onVerifyLocationClick()>Verify Location Now</button></div>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/verification-complete-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/verification-complete-popup.html",'<div class=modal-header><button type=button class=close ng-click=close()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h3 class=modal-title>To submit a proposal, finish verifying your identity.</h3></div><form><div class="modal-body select-team-popup"><p ng-if=profileUnderReview>To maintain a safe and trusted workspace, all freelancers must verify their identity before they can submit a proposal. Once your identity is verified and your profile is approved, you\'re ready to start working.</p><p ng-if=!profileUnderReview>To maintain a safe and trusted workspace, all freelancers must verify their identity before they can submit a proposal. Once your identity is verified, you\'re ready to start working.</p></div><div class=modal-footer><button class="btn btn-primary" ng-click=startVerification()>Complete verification</button> <a class=btn href=# ng-click=close()>Cancel</a></div></form>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/verification-hardreject-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/verification-hardreject-popup.html",'<div class=modal-header><button type=button class=close ng-click=close()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h3 class=modal-title>Your identity document did not pass our review.</h3></div><form><div class="modal-body select-team-popup"><p ng-bind-html="message | trust_html"></p><p>You cannot submit a proposal at this time. Please <a href=https://support.upwork.com target=_blank>contact support</a> if you feel this is an error.</p></div><div class=modal-footer><button class="btn btn-primary" ng-click=close()>Close</button></div></form>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/verification-needed-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/verification-needed-popup.html",'<div class=modal-header><button type=button class=close ng-click=close()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h3 class=modal-title>To submit a proposal, first verify your identity.</h3></div><form><div class="modal-body select-team-popup"><p ng-if=profileUnderReview>To maintain a safe and trusted workplace, all freelancers must verify their identity before they can submit a proposal. Once your identity is verified and your profile is approved, you’re ready to start working.</p><p ng-if=!profileUnderReview>To maintain a safe and trusted workplace, all freelancers must verify their identity before they can submit a proposal. Once verified, you’re ready to start working.</p><p>It\'s a quick two-step process, and your confidential information is protected by our <a href=https://www.upwork.com/info/terms/privacy/ target=_blank>privacy policy</a>. <a href=https://support.upwork.com/entries/23058042 target=_blank>Learn More</a></p></div><div class=modal-footer><button class="btn btn-primary" ng-click=startVerification()>Begin verification</button> <a class=btn href=# ng-click=close()>Cancel</a></div></form>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/verification-softreject-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/verification-softreject-popup.html",'<div class=modal-header><button type=button class=close ng-click=close()><span class="glyphicon air-icon-close m-0" aria-hidden=true></span> <span class=sr-only>Close</span></button><h3 class=modal-title>There was an issue verifying your ID.</h3></div><form><div class="modal-body select-team-popup"><p ng-bind-html="message | trust_html"></p><p>You can’t submit a proposal until we’ve successfully verified your identity.</p></div><div class=modal-footer><button class="btn btn-primary" ng-click=startVerification()>Try again</button> <a class=btn href=# ng-click=close()>Cancel</a></div></form>')}]);angular.module("/job-details/bundles/upworkjobdetails/partials/verification-under-review-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/verification-under-review-popup.html","<div class=modal-header><button type=button class=close ng-click=close()><span class=\"glyphicon air-icon-close m-0\" aria-hidden=true></span> <span class=sr-only>Close</span></button><h3 class=modal-title ng-if=\"profileUnderReview && idvStatus=='submitted'\">Almost ready! Your profile and ID are being reviewed.</h3><h3 class=modal-title ng-if=\"profileUnderReview && idvStatus!='submitted'\">Almost ready! Your profile is being reviewed.</h3><h3 class=modal-title ng-if=\"!profileUnderReview && idvStatus=='submitted'\">Almost ready! Your ID is being reviewed.</h3></div><form><div class=\"modal-body select-team-popup\"><p ng-if=\"profileUnderReview && idvStatus=='submitted'\">You can't submit a proposal until we've approved your profile and verified your identity. This can take up to 48 hours. Thanks for your patience &#150; we'll be in touch.</p><p ng-if=\"profileUnderReview && idvStatus!='submitted'\">You can't submit a proposal until we've approved your profile. This can take up to 12 hours. Thanks for your patience &#150; we'll be in touch.</p><p ng-if=\"!profileUnderReview && idvStatus=='submitted'\">You can't submit a proposal until we've verified your identity. This can take up to 48 hours. Thanks for your patience &#150; we'll be in touch.</p></div><div class=modal-footer><button class=\"btn btn-primary\" ng-disabled=isJobSaved ng-click=saveForLater()>Save job for later</button> <a class=btn href=# ng-click=close()>Cancel</a></div></form>")}]);angular.module("/job-details/bundles/upworkjobdetails/partials/verified.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("/job-details/bundles/upworkjobdetails/partials/verified.html","<div>This client has a verified payment method with Upwork. <a target=_blank href=https://support.upwork.com/entries/23116462>Learn how this affects your payment protection.</a></div>")}]);
(function(angular){"use strict";angular.module("jobDetails.controllers",[]).controller("JobDetailsControlPanelController",["$scope","eoModal","$window",function($scope,eoModal,$window){$scope.closeOpeningCallback=function(){$window.location.reload();return false};$scope.setVisibility=function(visibility){$scope.openingVisibility=visibility}}])})(angular);
(function(angular){"use strict";angular.module("jobDetails.directives",["jobDetails.services"]).directive("appVersion",["version",function(version){return function(scope,element,attrs){element.text(version)}}]).directive("dynamic",["$compile",function($compile){return{restrict:"A",replace:true,link:function(scope,ele,attrs){scope.$watch(attrs.dynamic,function(html){ele.html(html);setTimeout(function(){$compile(ele.contents())(scope)})})}}}]).directive("ologTrigger",["oLog","eoModelFactory",function(oLog,eoModelFactory){return{restrict:"A",scope:true,link:function(scope,element,attrs){if(attrs.ologTrigger&&attrs.ologLocation&&attrs.ologSublocation&&attrs.ologName){element.on(attrs.ologTrigger,function(){oLog.event(eoModelFactory.get("Event",{event:attrs.ologName,location:attrs.ologLocation,sublocation:attrs.ologSublocation}))})}}}}]).directive("jpTruncatable",["textTruncateService",function(textTruncateService){var link=function(scope,element,attrs){var originalText=attrs.jpTruncatable;var truncateTo=attrs.jpTruncatableTo||150;scope.text=textTruncateService(originalText,truncateTo);scope.needTruncate=originalText.length>truncateTo;scope.toggleTitle="More";scope.truncated=true;scope.toggleTruncate=function(){if(scope.truncated){scope.text=originalText;scope.toggleTitle="Less"}else{scope.text=textTruncateService(originalText,truncateTo);scope.toggleTitle="More"}scope.truncated=!scope.truncated}};return{restrict:"A",link:link,scope:{},template:'{{text}} <a ng-click="toggleTruncate()" ng-show="needTruncate">{{toggleTitle}}</a>'}}])})(angular);
(function(angular){"use strict";angular.module("jobDetails.filters",["jobDetails.services"]).filter("trust_html",["$sce",function($sce){return function(htmlCode){return $sce.trustAsHtml(htmlCode)}}]).filter("truncate",function(){return function(value,wordwise,max,tail){if(!value){return""}max=parseInt(max,10);if(!max){return value}if(value.length<=max){return value}value=value.substr(0,max);if(wordwise){var lastspace=value.lastIndexOf(" ");if(lastspace!==-1){value=value.substr(0,lastspace)}}return value+(tail||" …")}})})(angular);
(function(angular){"use strict";angular.module("jobDetails.services",[]).factory("clientNameService",["$http",function($http){return function(ciphertext){return $http({method:"GET",url:"/jobs/"+ciphertext+"/client-name"})}}]).factory("textTruncateService",["$filter",function($filter){return function(originalText,truncateTo){var truncateFilter=$filter("truncate");return truncateFilter(originalText,true,truncateTo," ...")}}])})(angular);
(function(angular){"use strict";angular.module("jobDetails.user",[]).config(["SMF_CONFIG","$httpProvider",function(SMF_CONFIG,$httpProvider){SMF_CONFIG.group="jobs";SMF_CONFIG.page="show";$httpProvider.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}])})(angular);
(function(ng){"use strict";ng.module("jobDetailsBundle.bucket",["jobDetailsBundle","jobDetailsBundle.common","ats.services","jobOwnerActionsBundle"]);ng.module("jobDetailsBundle.bucket").service("jobDetailsOpening",jobDetailsOpeningService);jobDetailsOpeningService.$inject=["atsContext"];function jobDetailsOpeningService(atsContext){return{getUid:function(){return atsContext.getOpeningUid()},getCiphertext:function(){return null},getId:function(){return null}}}})(angular);
(function(angular){"use strict";angular.module("jobDetailsBundle.common",["jobDetailsBundle"]);angular.module("jobDetailsBundle.common").value("minRateToApply",3).constant("JOB_DETAILS_BUNDLE_LOG_PAGE_NAME",null).constant("JOB_DETAILS_BUNDLE_PAGE_TYPE","page")})(angular);
(function(angular){"use strict";angular.module("jobDetailsBundle",[])})(angular);
(function(){"use strict";try{angular.module("jobDetailsBundle.slider")}catch(e){angular.module("jobDetailsBundle.slider",[]);angular.module("jobDetailsBundle.slider").service("jobDetailsSlider",jobDetailsSliderService)}function jobDetailsSliderService(){return{preloadJob:function(){},open:function(){}}}})(angular);
(function(angular){"use strict";angular.module("jobDetailsBundle.slider",["jobDetailsBundle","jobDetailsBundle.common"]);angular.module("jobDetailsBundle.slider").service("jobDetailsOpening",jobDetailsOpeningService);jobDetailsOpeningService.$inject=["jobDetailsSlider"];function jobDetailsOpeningService(jobDetailsSlider){return{getUid:function(){return jobDetailsSlider.getCurrentJob().uid},getCiphertext:function(){return jobDetailsSlider.getCurrentJob().ciphertext},getId:function(){return jobDetailsSlider.getCurrentJob().recno}}}})(angular);
(function(ng){"use strict";ng.module("jobDetailsBundle.bucket").controller("JobDetailsBucketController",JobDetailsBucketController);JobDetailsBucketController.$inject=["$scope","$window","atsContext","JobDetailsBucketService","augmentationStaff","JobDetailsAssetsService","$templateCache"];function JobDetailsBucketController($scope,$window,atsContext,jobDetailsBucketService,augmentationStaff,JobDetailsAssetsService,$templateCache){$scope.contentUrl=jobDetailsBucketService.getJobDetailsHtmlUrl(atsContext.getOpeningUid());$scope.errorImageUrl=JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/images/error.svg");loadBucket();$scope.closeOpeningCallback=function(){$window.location.reload()};$scope.currentUserIsNotStaffAugManager=function(){return!augmentationStaff.isManagerAccess};$scope.reload=function(){loadBucket()};function loadBucket(){$scope.loaded=false;$scope.isError=false;jobDetailsBucketService.getOpeningDetails(atsContext.getOpeningUid()).then(function(data){$templateCache.put($scope.contentUrl,data.data);$scope.loaded=true},function(){$scope.isError=true})}}})(angular);
(function(ng,applet){"use strict";ng.module("jobDetailsBundle.bucket").service("JobDetailsBucketService",JobDetailsBucketService);JobDetailsBucketService.$inject=["$http"];function JobDetailsBucketService($http){return{getOpeningDetails:function(uid){return $http({method:"GET",url:this.getJobDetailsHtmlUrl(uid),cache:true})},getJobDetailsHtmlUrl:function(openingUid){return applet.getBasePath()+"/jobdetails/opening/"+openingUid+".html"}}}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle").factory("JobDetailsAssetsService",JobDetailsAssetsService);function JobDetailsAssetsService(){return{buildInternalAssetPath:function(path){if(applet.buildInternalAssetPath){return applet.buildInternalAssetPath(path)}return applet.buildPath(path)}}}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsClientNameController",JobDetailsClientNameController);JobDetailsClientNameController.$inject=["$scope","clientNameService"];function JobDetailsClientNameController($scope,clientNameService){$scope.clientName="";$scope.init=function(ciphertext){clientNameService(ciphertext).then(function(strJson){var response=angular.fromJson(strJson);if(response.data.clientName){$scope.clientName=response.data.clientName}})}}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsCloseJobModalController",JobDetailsCloseJobModalController);JobDetailsCloseJobModalController.$inject=["$scope","jobDetailsOpening","openingUrl","openingTeamId","hiredDevelopers","closeReasons","closeJobUrl","$modalInstance"];function JobDetailsCloseJobModalController($scope,jobDetailsOpening,openingUrl,openingTeamId,hiredDevelopers,closeReasons,closeJobUrl,$modalInstance){$scope.reasons=closeReasons;$scope.reason="";$scope.needReason=!hiredDevelopers;$scope.modal=$modalInstance;$scope.url=openingUrl;$scope.ciphertext=jobDetailsOpening.getCiphertext();$scope.openingTeamId=openingTeamId;$scope.closeJobUrl=closeJobUrl;$scope.token=Applet.getVar("CsrfUserSiteToken");if(!$scope.needReason){$scope.reasons.some(function(item){if(item[2]&&item[2]==="API_REAS_ALL_POSITIONS_FILLED"){$scope.reason=item[0];return true}})}}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("ConnectsPopoverController",ConnectsPopoverController);ConnectsPopoverController.$inject=["$scope","JobDetailsSharedDataService"];function ConnectsPopoverController($scope,JobDetailsSharedDataService){$scope.data=JobDetailsSharedDataService.getData();$scope.close=function(){$scope.data.showSubscriptionTooltip=false}}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsFlaggingController",JobDetailsFlaggingController);JobDetailsFlaggingController.$inject=["$scope","jobDetailsOpening","flaggingService"];function JobDetailsFlaggingController($scope,jobDetailsOpening,flaggingService){$scope.$on("submitFlag",function(event,args){flaggingService.flagOpening(jobDetailsOpening.getId(),args.reasons).then(function(){$scope.success=true;$scope.$root.$broadcast("flagSubmitted")},function(){$scope.$root.$broadcast("flagError")})})}})(angular,Applet);
(function(angular){"use strict";var flaggingData;angular.module("jobDetailsBundle.common").controller("JobDetailsFlaggingPopupController",JobDetailsFlaggingPopupController);JobDetailsFlaggingPopupController.$inject=["$scope","jobDetailsOpening","flaggingService"];function JobDetailsFlaggingPopupController($scope,jobDetailsOpening,flaggingService){if(!flaggingData){$scope.isLoading=true;flaggingService.loadFlaggingReasons(jobDetailsOpening.getCiphertext()).then(function(data){flaggingData=data.data;setFlaggingData(flaggingData)},function(){$scope.isLoading=false;$scope.error=true})}else{setFlaggingData(flaggingData)}function setFlaggingData(flaggingData){var flaggingReasons=flaggingData.flaggingReasons,flaggingStates=flaggingData.flaggingStates;$scope.reasons=flaggingReasons;$scope.reasons.map(function(reason){reason.model=flaggingStates[reason.rid]>0});$scope.isLoading=false}$scope.error=false;$scope.submit=function(){$scope.$root.$broadcast("submitFlag",{reasons:$scope.reasons})};$scope.cancel=function(){$scope.$parent.close()};$scope.$on("flagSubmitted",function(){$scope.cancel()});$scope.$on("flagError",function(){$scope.error=true})}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").factory("flaggingService",flaggingService);flaggingService.$inject=["$http"];function flaggingService($http){return{flagOpening:function(openingId,reasons){var settedIds=[],unsettedIds=[];angular.forEach(reasons,function(value){(value.model?settedIds:unsettedIds).push(value.rid)});return $http({method:"POST",url:"/api/hr/v1/flagging.json",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Odesk-Csrf-Token":Applet.getVar("CsrfUserSiteToken"),"X-Odesk-User-Agent":"oDesk CI"},data:{flagged_item:"user",http_method:"put",func:"toggleFlag",type_id:settedIds,unset_type_id:unsettedIds,flagged_subitem:"opening",flagged_subitem_id:openingId},transformRequest:function(obj){var str=[];angular.forEach(obj,function(value,key){if(angular.isArray(value)){value.map(function(valueItem){str.push(encodeURIComponent(key)+"[]="+encodeURIComponent(valueItem))})}else{str.push(encodeURIComponent(key)+"="+encodeURIComponent(value))}});return str.join("&")}})},loadFlaggingReasons:function(openingId){return $http({method:"GET",url:applet.getBasePath()+"/jobdetails/opening/"+openingId+"/flagging-reasons"})}}}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle.common").controller("GroupPopoverController",GroupPopoverController);GroupPopoverController.$inject=["$scope","JobDetailsSharedDataService"];function GroupPopoverController($scope,JobDetailsSharedDataService){var data=JobDetailsSharedDataService.getData();$scope.group=data.group}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("JobsProviderActionController",JobsProviderActionController);JobsProviderActionController.$inject=["$scope","$http","eoModal","$timeout","oLog","eoModelFactory","$window","jobDetailsOpening","JobDetailsSharedDataService","JobDetailsAssetsService","JOB_DETAILS_BUNDLE_LOG_PAGE_NAME","JOB_DETAILS_BUNDLE_PAGE_TYPE"];function JobsProviderActionController($scope,$http,eoModal,$timeout,oLog,eoModelFactory,$window,jobDetailsOpening,JobDetailsSharedDataService,JobDetailsAssetsService,JOB_DETAILS_BUNDLE_LOG_PAGE_NAME,JOB_DETAILS_BUNDLE_PAGE_TYPE){var verification,connects,openInNewTab=JOB_DETAILS_BUNDLE_PAGE_TYPE==="slider";$scope.init=function(verificationData,connectsData,locationVerificationIsIdv){verification=verificationData;connects=connectsData;$scope.locationVerificationIsIdv=locationVerificationIsIdv;$scope.updateJobSavedStatus()};$scope.isActive=false;$scope.isSavedKnown=false;this.isJobSaved=function(){return $scope.isActive};JobDetailsSharedDataService.setJobsProviderActionCtrl(this);$scope.$on("saveForLater",function(event,args){$scope.saveJobClick()});$scope.$watch("openingRef",function(openingRef){$scope.openingRef=openingRef},true);$scope.$watch("isActive",function(){$scope.saveJobLinkTitle=$scope.isActive?"Saved":"Save Job";$scope.saveJobHeartBeatOn=$scope.isActive},true);$scope.updateJobSavedStatus=function(){$http({method:"GET",url:"/jobs/"+jobDetailsOpening.getCiphertext()+"/is-saved"}).success(function(data,status,headers,config){$scope.isActive=data.isJobSaved;$scope.isSavedKnown=true}).error(function(data,status,headers,config){$scope.isActive=false;$scope.isSavedKnown=true})};var logEvent=function(sublocation){return oLog.event(eoModelFactory.get("Event",{event:"click",location:"jobdetails_page",sublocation:sublocation,data:[{page:JOB_DETAILS_BUNDLE_LOG_PAGE_NAME,pageversion:"user_site",timestamp:Date.now(),type:"opening",id:jobDetailsOpening.getId()}]}))};function pageRedirect(url){if(openInNewTab){return}$window.location.href=url}function broadcastState(){$scope.$root.$broadcast("sliderJobSave",{recno:jobDetailsOpening.getId(),isSaved:$scope.isActive})}$scope.logEvent=function(event,sublocation){if(!openInNewTab){event.preventDefault();event.stopPropagation()}logEvent(sublocation).then(function(){pageRedirect(event.target.href)},function(){pageRedirect(event.target.href)})};$scope.saveJobClick=function(){$http.post(applet.getBasePath()+"/api/jobs/save",{rid:jobDetailsOpening.getId(),isSaved:!$scope.isActive}).success(function(){return true}).error(function(){$scope.warningModal=eoModal.custom({templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/save-job-ajax-fail-modal.html")});$timeout(function(){$scope.warningModal.close();$scope.isActive=!$scope.isActive;broadcastState()},5e3)});$scope.isActive=!$scope.isActive;broadcastState()};$scope.showVerification=function($event){if(verification.messageType==="needed"){eoModal.custom({controller:"JobDetailsVerificationNeededPopupController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/"+verification.messageString),locals:{profileUnderReview:verification.profileUnderReview}})}if(verification.messageType==="submitted"){eoModal.custom({controller:"JobDetailsUnderReviewPopupController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/verification-under-review-popup.html"),locals:{customData:{idvStatus:verification.messageString,profileUnderReview:verification.profileUnderReview}}});return false}if(verification.messageType==="hardreject"){eoModal.custom({controller:"JobDetailsUnderReviewPopupController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/verification-hardreject-popup.html"),locals:{customData:{message:verification.messageString}}})}if(verification.messageType==="softreject"){eoModal.custom({controller:"JobDetailsUnderReviewPopupController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/verification-softreject-popup.html"),locals:{customData:{message:verification.messageString}}})}};$scope.clickApplyButton=function clickApplyButton($event){if(verification.preventApply){$scope.showVerification($event);return}if(connects.connectsForApply){var connectsForApply=connects.connectsForApply;if(connectsForApply.ic&&(connectsForApply.ic.jobsPrice!==0||connects.pricesDifferent)){eoModal.custom({controller:"JobDetailsSelectTeamController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/select-team-popup.html"),locals:{connectsData:connects,openingIsUsMarket:$scope.$parent.openingIsUsMarket}});logEvent("apply_button");return false}if(!connects.isContextAdmin&&!connectsForApply.canAddACs){eoModal.simple({templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/not-subscribed-agency-popup.html")});logEvent("apply_button");return false}if(!connects.isContextAdmin&&connectsForApply.connects<connectsForApply.jobsPrice){eoModal.simple({templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/not-enough-connects-popup.html")});logEvent("apply_button");return false}}logEvent("apply_button").then(function(){pageRedirect("/job/"+jobDetailsOpening.getCiphertext()+"/apply/")},function(){pageRedirect("/job/"+jobDetailsOpening.getCiphertext()+"/apply/")});if(openInNewTab){$window.open("/job/"+jobDetailsOpening.getCiphertext()+"/apply/","_blank")}};$scope.showLocationVerifyModal=function showLocationVerifyModal(status,userType){var template=getLocationVerifyModalTemplateName(status,userType);eoModal.custom({controller:"UsMarketVerifyDialogController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath(template)})};function getLocationVerifyModalTemplateName(status,userType){var appendix=userType==="agency-owner"||userType==="affiliate-manager"?"-affiliate-manager":userType==="exclusive-contractor"?"-exclusive-contractor":"";if($scope.locationVerificationIsIdv){return status==="pending"?"@UpworkJobDetailsBundle/partials/us-market-verify-idv-continue-dialog"+appendix+".html":"@UpworkJobDetailsBundle/partials/us-market-verify-idv-dialog"+appendix+".html"}else{return"@UpworkJobDetailsBundle/partials/us-market-verify-ach-dialog.html"}}}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle.common").controller("JobsProviderActionPopoverController",JobsProviderActionPopoverController);JobsProviderActionPopoverController.$inject=["$scope","minRateToApply"];function JobsProviderActionPopoverController($scope,minRateToApply){$scope.minRate=minRateToApply}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsRootController",JobDetailsRootController);JobDetailsRootController.$inject=["$scope","SMF_CONFIG","oSmfServices","jobDetailsOpening","JobDetailsSharedDataService","oLog","eoModelFactory","JOB_DETAILS_BUNDLE_LOG_PAGE_NAME"];function JobDetailsRootController($scope,SMF_CONFIG,oSmfServices,jobDetailsOpening,JobDetailsSharedDataService,oLog,eoModelFactory,JOB_DETAILS_BUNDLE_LOG_PAGE_NAME){$scope.data=JobDetailsSharedDataService.getData();$scope.openingUid=jobDetailsOpening.getUid();oSmfServices.retrieve(angular.extend({},SMF_CONFIG,{location:"custom"})).$promise.then(function(data){angular.forEach(data,function(smf){if(smf.title==="subscriptionTooltip"){$scope.data.showSubscriptionTooltip=true;oSmfServices.dismiss({id:smf.id})}})});oLog.event(eoModelFactory.get("Event",{event:"impression",location:"jobdetails_page",sublocation:null,data:[{page:JOB_DETAILS_BUNDLE_LOG_PAGE_NAME}]}))}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsSelectTeamController",JobDetailsSelectTeamController);JobDetailsSelectTeamController.$inject=["$scope","$modalInstance","eoModal","$window","connectsData","jobDetailsOpening","JobDetailsAssetsService","openingIsUsMarket","JOB_DETAILS_BUNDLE_PAGE_TYPE"];function JobDetailsSelectTeamController($scope,$modalInstance,eoModal,$window,connectsData,jobDetailsOpening,JobDetailsAssetsService,openingIsUsMarket,JOB_DETAILS_BUNDLE_PAGE_TYPE){var openInNewTab=JOB_DETAILS_BUNDLE_PAGE_TYPE==="slider";$scope.modal=$modalInstance;$scope.connectsData=connectsData;$scope.openingIsUsMarket=openingIsUsMarket;$scope.close=function(){$modalInstance.close({success:true})};$scope.continue=function(){$modalInstance.close({success:true});if($scope.applyAs!=="ic"){var i,item,connects=connectsData.connectsForApply.ac;for(i=0;i<connects.length;i++){if(connects[i].agencyRecno==$scope.applyAs){item=connects[i];break}}if(!item.isContextAdmin&&(!item.canAddACs||item.connects<item.jobsPrice)){var template=!item.canAddACs?"not-subscribed-agency-popup.html":"not-enough-connects-ac-popup.html";eoModal.custom({controller:"JobDetailsSelectTeamDialogController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/"+template),locals:{_customInjectable:{hasBack:true}}}).result.then(function(result){},function(){eoModal.custom({controller:"JobDetailsSelectTeamController",templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/select-team-popup.html")})});return}}if(openInNewTab){$window.open("/job/"+jobDetailsOpening.getCiphertext()+"/apply/"+$scope.applyAs,"_blank")}else{$window.location.href="/job/"+jobDetailsOpening.getCiphertext()+"/apply/"+$scope.applyAs}}}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsSelectTeamDialogController",JobDetailsSelectTeamDialogController);JobDetailsSelectTeamDialogController.$inject=["$scope","$modalInstance","_customInjectable"];function JobDetailsSelectTeamDialogController($scope,$modalInstance,_customInjectable){$scope.hasBack=_customInjectable.hasBack;$scope.ok=function(){$modalInstance.close(true)};$scope.cancel=function(){$modalInstance.dismiss("cancel")}}})(angular);
(function(angular){"use strict";var data={},jobsProviderActionCtrl;angular.module("jobDetailsBundle").factory("JobDetailsSharedDataService",JobDetailsSharedDataService);function JobDetailsSharedDataService(){return{getData:function(){return data},setJobsProviderActionCtrl:function(value){jobsProviderActionCtrl=value},getJobsProviderActionCtrl:function(){return jobsProviderActionCtrl}}}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsSkillsController",JobDetailsSkillsController);JobDetailsSkillsController.$inject=["$scope"];function JobDetailsSkillsController($scope){$scope.skill=$scope.$parent.$parent.$parent.skill;$scope.getDomainFromUrl=function(url){var re=new RegExp("\\://([^/]+)","i");if(!re.test(url)){return false}var domain=url.match(re)[1].toString();var firstIndex=domain.indexOf(".");if(firstIndex>0){var lastIndex=domain.lastIndexOf(".");if(firstIndex<lastIndex){var distance=domain.length-1-lastIndex;var lastLocation=domain.lastIndexOf(".",lastIndex-1);var subStart=distance===3?lastLocation:domain.lastIndexOf(".",lastLocation-1);return domain.substr(subStart+1)}}};$scope.skill.domain=$scope.getDomainFromUrl($scope.skill.externalLink)}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("SkillsPopoverController",SkillsPopoverController);SkillsPopoverController.$inject=["$scope","JobDetailsAssetsService","JOB_DETAILS_BUNDLE_PAGE_TYPE"];function SkillsPopoverController($scope,JobDetailsAssetsService,JOB_DETAILS_BUNDLE_PAGE_TYPE){$scope.skills=[];$scope.isSlider=JOB_DETAILS_BUNDLE_PAGE_TYPE==="slider";$scope.popoverTemplate=JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/partials/skillpopup.html")}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsUnderReviewPopupController",JobDetailsUnderReviewPopupController);JobDetailsUnderReviewPopupController.$inject=["$scope","$window","$modalInstance","jobDetailsOpening","customData","JobDetailsSharedDataService"];function JobDetailsUnderReviewPopupController($scope,$window,$modalInstance,jobDetailsOpening,customData,JobDetailsSharedDataService){$scope.modal=$modalInstance;$scope.message=customData.message;$scope.idvStatus=customData.idvStatus;$scope.profileUnderReview=customData.profileUnderReview;$scope.close=function(){$modalInstance.close({success:true})};$scope.isJobSaved=JobDetailsSharedDataService.getJobsProviderActionCtrl().isJobSaved();$scope.saveForLater=function(){$scope.$root.$broadcast("saveForLater");$modalInstance.close({success:true})};$scope.startVerification=function(){$window.location.href="/UserSettings/verify-phone/?key="+jobDetailsOpening.getCiphertext()+"&from=apply"}}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle.common").controller("UsMarketVerifyDialogController",UsMarketVerifyDialogController);UsMarketVerifyDialogController.$inject=["$scope","$modalInstance","$window"];function UsMarketVerifyDialogController($scope,$modalInstance,$window){$scope.onDismiss=function(){$modalInstance.close(true)};$scope.onAddBankAccountClick=function(){$window.location.href="/ab/find-work/us-market/ach-verification"};$scope.onVerifyLocationClick=function(){$window.location.href="/freelancers/id/verification/"}}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle.common").controller("JobDetailsVerificationNeededPopupController",JobDetailsVerificationNeededPopupController);JobDetailsVerificationNeededPopupController.$inject=["$scope","$window","$modalInstance","jobDetailsOpening","profileUnderReview"];function JobDetailsVerificationNeededPopupController($scope,$window,$modalInstance,jobDetailsOpening,profileUnderReview){$scope.modal=$modalInstance;$scope.profileUnderReview=profileUnderReview;$scope.close=function(){$modalInstance.close({success:true})};$scope.startVerification=function(){$window.location.href="/UserSettings/verify-phone/?key="+jobDetailsOpening.getCiphertext()+"&from=apply"}}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle").directive("bidRange",BidRange);function BidRange(){return{restrict:"A",controller:BidRangeController,templateUrl:applet.getBasePath()+"/bundles/upworkjobdetails/partials/bid-range.html"}}BidRangeController.$inject=["$scope","$window"];function BidRangeController($scope,$window){$scope.activeProposalsRangeEnabled=applet.getVar("activeProposalsRangeEnabled");$scope.membershipChangePlanReturnUrl=btoa(JSON.stringify({success:$window.location.href,back:$window.location.href,competitivePricing:1}));$scope.isPopoverOpen=false;$scope.close=function(event){$scope.isPopoverOpen=false;if(event){event.stopPropagation();event.preventDefault()}}}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle").directive("bids",Bids);function Bids(){return{restrict:"A",scope:{bids:"@",enoughApplicantsForUpgradeHint:"<",bidRangeVisible:"<",isOwner:"<",isClient:"<"},controller:BidsController,templateUrl:applet.getBasePath()+"/bundles/upworkjobdetails/partials/bids.html"}}BidsController.$inject=["$scope","applicantsService"];function BidsController($scope,applicantsService){var ciphertext=$scope.bids;$scope.bidStats=null;$scope.loading=true;$scope.showBidsBlock=false;$scope.showBids=false;$scope.showUpgradeHint=false;$scope.popoverPartialUrl=applet.getBasePath()+"/bundles/upworkjobdetails/partials/bid-range-popover.html";applicantsService(ciphertext).success(function(data){$scope.loading=false;$scope.bidStats=data.applicantsBidsStats;$scope.showUpgradeHint=$scope.enoughApplicantsForUpgradeHint&&!$scope.bidRangeVisible&&!$scope.isClient&&!$scope.isOwner;$scope.showBids=$scope.bidStats&&$scope.bidStats.avgRateBid&&$scope.bidStats.avgRateBid.amount&&($scope.bidRangeVisible||$scope.isOwner);$scope.showBidsBlock=$scope.showUpgradeHint||$scope.showBids})}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle").directive("clientWorkHistory",ClientWorkHistory);function ClientWorkHistory(){return{restrict:"A",scope:{clientWorkHistory:"<",showBudget:"<",openLinksInNewWindow:"<",baseUri:"@?"},controller:ClientWorkHistoryController,templateUrl:applet.getBasePath()+"/bundles/upworkjobdetails/partials/client-work-history.html"}}ClientWorkHistoryController.$inject=["$scope"];function ClientWorkHistoryController($scope){$scope.historyLength=$scope.clientWorkHistory.length;$scope.shownHistory=[];$scope.jobsInProgress=[];$scope.history=[];$scope.data={};$scope.showMore=function(){$scope.shownHistory=$scope.shownHistory.concat($scope.history.splice(0,5))};angular.forEach($scope.clientWorkHistory,function(job){job.isEDCPublic=true;if(job.isEDCReplicated&&job.jobInfo.title===null){job.isEDCPublic=false;job.jobInfo.title="Private";job.contractorInfo.contractorName="Private"}if(!job.endDate){$scope.jobsInProgress.push(job)}else{$scope.history.push(job)}});$scope.showMore()}})(angular,Applet);
(function(angular){"use strict";var module=angular.module("jobDetailsBundle");module.directive("closeSliderButton",CloseSliderButton);CloseSliderButton.$inject=["$document","$timeout"];function CloseSliderButton($document,$timeout){return{link:link,template:'<div class="close-overlay-button m-0"><span class="glyphicon-md air-icon-close m-0"></span></div>'};function link($scope,$element){$timeout(function(){var overlay=$document[0].querySelectorAll(".modal-overlay");$element.detach();if(overlay){angular.element(overlay).append($element)}},100)}}})(angular);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle").directive("otherJobs",OtherJobs);function OtherJobs(){return{restrict:"A",scope:{otherJobs:"<",isVisitor:"<",openLinksInNewWindow:"<",baseUri:"@?"},controller:OtherJobsController,templateUrl:applet.getBasePath()+"/bundles/upworkjobdetails/partials/other-jobs.html"}}OtherJobsController.$inject=["$scope"];function OtherJobsController($scope){$scope.remaining=$scope.otherJobs;$scope.shownJobs=[];$scope.showMore=function(){$scope.shownJobs=$scope.shownJobs.concat($scope.remaining.splice(0,5))};$scope.showMore()}})(angular,Applet);
(function(angular,applet){"use strict";angular.module("jobDetailsBundle").directive("similarJobs",SimilarJobs);function SimilarJobs(){return{restrict:"A",scope:{similarJobs:"<",isVisitor:"<",baseUri:"@?",openLinksInNewWindow:"<"},controller:SimilarJobsController,templateUrl:applet.getBasePath()+"/bundles/upworkjobdetails/partials/similar-jobs.html"}}SimilarJobsController.$inject=["$scope","oLog","eoModelFactory","$window"];function SimilarJobsController($scope,oLog,eoModelFactory,$window){$scope.logSimilarJobsImpression=function(){var cipher_list=[],sublocation="postjob_button";angular.forEach($scope.similarJobs,function(value,key){cipher_list.push(value.ciphertext)});if($scope.isVisitor){sublocation="signup_link"}oLog.event(eoModelFactory.get("Event",{event:"impression_similar_jobs",location:"jobdetails_page",sublocation:sublocation,data:[{similar_openings:cipher_list}]}))};if($scope.similarJobs.length){$scope.logSimilarJobsImpression()}$scope.logOpeningClick=function(event,ciphertext){if(!$scope.openLinksInNewWindow){event.preventDefault();event.stopPropagation()}var logPromise=oLog.event(eoModelFactory.get("Event",{event:"click_similar_job",location:"jobdetails_page",sublocation:$scope.isVisitor?"visitor_site":"user_site",data:[{similar_opening:ciphertext}]}));if(!$scope.openLinksInNewWindow){logPromise.then(function(){$window.location.href=event.target.href},function(){$window.location.href=event.target.href})}}}})(angular,Applet);
(function(ng,applet){"use strict";ng.module("jobDetailsBundle").directive("usMarketLocationInfographicTooltip",usMarketLocationInfographicTooltip);function usMarketLocationInfographicTooltip(){return{templateUrl:getTemplateUri("us-market-location-infographic-tooltip.html"),transclude:true,restrict:"E",scope:{placement:"@",isEnabled:"<"},link:link}}function link($scope){$scope.isTooltipEnabled=Boolean($scope.isEnabled);$scope.tooltipTemplateUrl=getTemplateUri("us-market-location-requirement-tooltip-content.html")}function getTemplateUri(name){return applet.getBasePath()+"/bundles/upworkjobdetails/partials/"+name}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetailsBundle").filter("seoUrl",function(){return function(title,ciphertext,isVisitor){isVisitor=isVisitor===undefined?true:isVisitor;var words=title.match(/[\w]{3,}/g);if(words&&isVisitor){return words.join("-")+"_"+ciphertext}else if(isVisitor){return"_"+ciphertext}return ciphertext}})})(angular);
(function(angular){"use strict";angular.module("jobDetailsBundle").factory("applicantsService",applicantsService);applicantsService.$inject=["$http"];function applicantsService($http){return function(ciphertext){return $http({method:"GET",url:"/jobs/"+ciphertext+"/applicants"})}}})(angular);
(function(angular){"use strict";angular.module("jobDetailsBundle").factory("clientNameService",clientNameService);clientNameService.$inject=["$http"];function clientNameService($http){return function(ciphertext){return $http({method:"GET",url:"/jobs/"+ciphertext+"/client-name"})}}})(angular);
(function(ng,applet){"use strict";ng.module("jobDetailsBundle.slider").service("jdSliderLoader",jdSliderLoader);jdSliderLoader.$inject=["$http","$templateCache"];function jdSliderLoader($http,$templateCache){var loadingJobs={},loadedJobs={},failedJobs={},FAILED_DEFAULT=0,FAILED_ACCESS_DENIED=1;function loadJob(ciphertext){loadingJobs[ciphertext]=true;$http({method:"GET",url:applet.getBasePath()+"/jobdetails/slider/"+ciphertext+".html"}).then(function(response){loadedJobs[ciphertext]=true;$templateCache.put("jobdetails/openingpage/"+ciphertext+".html",response.data);delete loadingJobs[ciphertext]},function(response){if(response.status===403){failedJobs[ciphertext]=FAILED_ACCESS_DENIED;if(!$templateCache.get("jobdetails/access-denied.html")){$templateCache.put("jobdetails/access-denied.html",response.data)}delete loadingJobs[ciphertext]}else{failedJobs[ciphertext]=FAILED_DEFAULT}})}return{retryJobLoading:function(ciphertext){delete failedJobs[ciphertext];delete loadedJobs[ciphertext];loadJob(ciphertext)},loadJob:function(ciphertext){if(this.jobAccessDenied(ciphertext)){return}if(!loadedJobs.hasOwnProperty(ciphertext)){loadJob(ciphertext)}},jobIsLoading:function(ciphertext){return loadingJobs.hasOwnProperty(ciphertext)},jobFailed:function(ciphertext){return failedJobs.hasOwnProperty(ciphertext)&&failedJobs[ciphertext]===FAILED_DEFAULT},jobAccessDenied:function(ciphertext){return failedJobs.hasOwnProperty(ciphertext)&&failedJobs[ciphertext]===FAILED_ACCESS_DENIED}}}})(angular,Applet);
(function(ng){"use strict";ng.module("jobDetailsBundle.slider").controller("JobDetailsSliderModalController",JobDetailsSliderModalController);JobDetailsSliderModalController.$inject=["$scope","jobDetailsSlider","$window","$document","eoAlert","JobDetailsAssetsService"];function JobDetailsSliderModalController($scope,jobDetailsSlider,$window,$document,eoAlert,JobDetailsAssetsService){$scope.job=jobDetailsSlider.getCurrentJob();$scope.errorImageUrl=JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/images/error.svg");$scope.jobdetailsUrl=$window.location.origin+"/jobs/"+jobDetailsSlider.getCurrentJob().ciphertext;$scope.copyProfileLink=function(){var fakeElem=$document[0].createElement("textarea");fakeElem.style.position="absolute";fakeElem.style.left="-9999px";fakeElem.setAttribute("readonly","");fakeElem.value=$scope.jobdetailsUrl;fakeElem.selectedText=$scope.jobdetailsUrl;$document[0].body.appendChild(fakeElem);fakeElem.select();$document[0].execCommand("copy");$document[0].body.removeChild(fakeElem);eoAlert.inline({type:"info",template:"Profile link copied to clipboard"})};$scope.reloadSlider=function(){return jobDetailsSlider.reload()};$scope.isJobLoading=function(){return jobDetailsSlider.currentJobIsLoading()};$scope.isErrorState=function(){return jobDetailsSlider.currentJobIsFailed()};$scope.isAccessDenied=function(){return jobDetailsSlider.currentJobAccessDenied()};$scope.getContentUrl=function(){return"jobdetails/openingpage/"+jobDetailsSlider.getCurrentJob().ciphertext+".html"};$scope.getAccessDeniedUrl=function(){return"jobdetails/access-denied.html"}}})(angular);
(function(ng){"use strict";ng.module("jobDetailsBundle.slider").service("jobDetailsSlider",jobDetailsSlider);try{angular.module("jobDetails.common")}catch(e){angular.module("jobDetails.common",[])}jobDetailsSlider.$inject=["eoModal","$timeout","JobDetailsAssetsService","oLog","eoModelFactory","jdSliderLoader","JOB_DETAILS_BUNDLE_LOG_PAGE_NAME"];var MAX_DEPTH=5,TIMEOUT_PREVENT_DOUBLE_CLICK=300;function jobDetailsSlider(eoModal,$timeout,JobDetailsAssetsService,oLog,eoModelFactory,jdSliderLoader,JOB_DETAILS_BUNDLE_LOG_PAGE_NAME){var currentJob,preventingDoubleEvent=false;function logCloseEvent(){oLog.event(eoModelFactory.get("Event",{event:"close",location:"jobdetails_page",sublocation:null,data:[{page:JOB_DETAILS_BUNDLE_LOG_PAGE_NAME}]}))}function openSlider(){eoModal.overlay({templateUrl:JobDetailsAssetsService.buildInternalAssetPath("@UpworkJobDetailsBundle/js/slider/tile.html"),controller:"JobDetailsSliderModalController"}).result.then(logCloseEvent,logCloseEvent)}function isActiveElement(element,level){var classNames=["btn"],tagNames=["button","a"],level=level||0;if(element.length===0){return false}if(level>=MAX_DEPTH){return false}if(tagNames.some(function(value){return value===element.prop("tagName").toLowerCase()})){return true}if(classNames.some(function(value){return element.hasClass(value)})){return true}return isActiveElement(element.parent(),level+1)}return{open:function(job,$event){if($event&&isActiveElement(ng.element($event.target))||preventingDoubleEvent){return false}preventingDoubleEvent=true;$timeout(function(){preventingDoubleEvent=false},TIMEOUT_PREVENT_DOUBLE_CLICK);this.setCurrentJob(job);openSlider()},reload:function(){jdSliderLoader.retryJobLoading(currentJob.ciphertext)},preloadJob:function(job){},setCurrentJob:function(job){jdSliderLoader.loadJob(job.ciphertext);currentJob=job},getCurrentJob:function(){return currentJob},currentJobIsLoading:function(){return currentJob&&jdSliderLoader.jobIsLoading(currentJob.ciphertext)},currentJobIsFailed:function(){return currentJob&&jdSliderLoader.jobFailed(currentJob.ciphertext)},currentJobAccessDenied:function(){return currentJob&&jdSliderLoader.jobAccessDenied(currentJob.ciphertext)}}}})(angular);
(function(angular){"use strict";angular.module("jobOwnerActionsBundle",[])})(angular);
(function(angular){"use strict";angular.module("jobOwnerActionsBundle").directive("closeJob",closeJob).controller("CloseOpeningPopupController",CloseOpeningPopupController).run(CloseOpeningPopupTemplate);CloseOpeningPopupTemplate.$inject=["$templateCache"];function CloseOpeningPopupTemplate($templateCache){$templateCache.put("job-details-close-opening-modal.html",'<div data-eo-block="{{forceBlock || watcher.pending}}" data-message="Please wait...">'+"<div class=modal-header><h3 class=modal-title>Close Job</h3></div>"+"<div>"+"<div class=modal-body>"+"<p>"+"Use this to close your job to new applicants and notify current applicants. "+"Those you have hired will not be affected."+"</p>"+"<p data-ng-show=needReason>"+"<label class=oLabel>Reason for closing</label>&nbsp;&nbsp;"+"<span data-eo-select "+'data-eo-select-options="reason.label for reason in reasonsClosed" '+"data-ng-model=selected.reason></span>"+"</p>"+"</div>"+"<div class=modal-footer>"+'<button class="btn btn-primary m-0-top m-0-bottom" '+'data-ng-disabled="needReason && !selected.reason.id" '+"data-ng-click=closeOpening()>Yes, Close Job</button>"+' <a class="btn m-0-top m-0-bottom" href=# data-ng-click=cancelAction()>Cancel</a>'+"</div>"+"</div>"+"</div>")}CloseOpeningPopupController.$inject=["$scope","_openingUid","_hiresCount","_callback","_onCancelClick","jdbOpening","$modalInstance","eoAlert","eoBlockWatcher"];function CloseOpeningPopupController($scope,_openingUid,_hiresCount,_callback,_onCancelClick,jdbOpening,$modalInstance,eoAlert,eoBlockWatcher){$scope.watcher=new eoBlockWatcher;$scope.needReason=parseInt(_hiresCount)===0;$scope.modal=$modalInstance;$scope.selected={};if($scope.needReason){$scope.watcher.wait(jdbOpening.fetchCloseReasons().then(function(response){$scope.reasonsClosed=response.data.map(function(item){return{id:item[0],label:item[1]}})}))}$scope.closeOpening=function(){var reasonId=$scope.selected.reason?$scope.selected.reason.id:null;$scope.watcher.wait(jdbOpening.close(_openingUid,reasonId).then(function success(response){if(_callback({responseData:response.data})){$scope.modal.close()}$scope.forceBlock=true},function error(response){if(response.data&&response.data.message){var errorMessage=response.data.message}eoAlert.inline({type:"danger",template:errorMessage||"This rarely happens "+"but something went wrong. Please try again later."})}))};$scope.cancelAction=function(){$scope.modal.close();if(typeof _onCancelClick!=="undefined"){_onCancelClick()}}}closeJob.$inject=["eoModal","$window"];function closeJob(eoModal,$window){return{restrict:"A",scope:{openingUid:"@",hiresCount:"@",icon:"@",successCallback:"&",onCancelClick:"&",view:"@?"},template:'<button data-ng-if="view == \'button\'" class="btn btn-default btn-sm">'+"Remove Posting"+"</button>"+'<span data-ng-if="view != \'button\'"><span data-ng-if="icon" class="glyphicon '+'air-icon-close vertical-align-middle"></span>Remove Posting</span>',link:function(scope,element){var hash=$window.location.hash,openModal=function(){eoModal.custom({controller:"CloseOpeningPopupController",templateUrl:"job-details-close-opening-modal.html",locals:{_openingUid:scope.openingUid,_hiresCount:scope.hiresCount,_callback:scope.successCallback,_onCancelClick:scope.onCancelClick}})};if(hash==="#closeJob"||hash==="#/closeJob"){openModal()}element.on("click",openModal)}}}})(angular);
(function(angular){"use strict";var toggleVisibility=function(currentVisibility){return currentVisibility===2?1:2};angular.module("jobOwnerActionsBundle").directive("openingVisibility",openingVisibility);openingVisibility.$inject=["jdbOpening","eoAlert"];function openingVisibility(jdbOpening,eoAlert){return{restrict:"A",scope:{visibility:"=",openingUid:"@",icon:"@",makePublicText:"@",makePrivateText:"@",view:"@?"},template:'<button data-ng-if="view == \'button\'" class="btn btn-default btn-sm">'+"{{message}}"+"</button>"+"<span data-ng-if=\"view != 'button'\">"+'<span data-ng-if="icon" class="glyphicon vertical-align-middle"'+" data-ng-class=\"{'air-icon-public': visibility==2 && !postingInProgress, "+"'air-icon-make-private': visibility!=2 && !postingInProgress,"+" 'air-icon-loading': postingInProgress}\"></span>"+"{{message}}</span>",link:function(scope,element,attrs){var makePublicText=scope.makePublicText,makePrivateText=scope.makePrivateText;scope.postingInProgress=false;scope.setVisibility=function(newVisibility){scope.visibility=newVisibility;if(newVisibility===2){scope.message=makePublicText}else{scope.message=makePrivateText}};element.on("click",function(){if(scope.postingInProgress){return true}scope.postingInProgress=true;var newVisibility=toggleVisibility(scope.visibility);jdbOpening.changeVisibility(scope.openingUid,newVisibility).then(function success(response){if(response.data){scope.setVisibility(newVisibility);eoAlert.inline({type:"success",template:response.data.message||"Visibility was successfully changed"})}scope.postingInProgress=false},function error(response){if(response.data&&response.data.message){var errorMessage=response.data.message}eoAlert.inline({type:"danger",template:errorMessage||"Unknown error occurred"});scope.postingInProgress=false})})},controller:["$scope","$timeout",function($scope,$timeout){$timeout(function(){$scope.setVisibility($scope.visibility)})}]}}})(angular);
(function(angular,applet){"use strict";angular.module("jobOwnerActionsBundle").factory("jdbOpening",jdbOpening);jdbOpening.$inject=["$http","$httpParamSerializerJQLike"];function jdbOpening($http,$httpParamSerializerJQLike){return{changeVisibility:function(openingUid,visibility){var access=visibility===2?"ACCESS_PRIVATE":"PUBLIC_INDEX";return $http({url:applet.getBasePath()+"/jobowneractions/opening/"+openingUid+"/change-visibility",data:$httpParamSerializerJQLike({visibility:access}),method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},close:function(openingUid,reasonId){return $http({url:applet.getBasePath()+"/jobowneractions/opening/"+openingUid+"/close",data:$httpParamSerializerJQLike({reasonId:reasonId}),method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}})},fetchCloseReasons:function(){return $http({url:applet.getBasePath()+"/jobowneractions/opening/close-reasons.json",method:"GET",dataType:"json",cache:true})}}}})(angular,Applet);
(function(angular){"use strict";angular.module("jobDetails.ptc",[]).controller("BannerController",BannerController).service("viewerStorage",viewerStorage);BannerController.$inject=["$http","eoModelFactory","eoChannel","oSmfServices","viewerStorage"];function BannerController($http,eoModelFactory,eoChannel,oSmfServices,viewerStorage){var vm=this;vm.viewer=null;vm.init=init;vm.dontShow=dontShow;function init(viewer){if(viewerStorage.get("ptc_viewer")===undefined){vm.viewer=viewer}else{vm.viewer=viewerStorage.get("ptc_viewer")}}function dontShow(){vm.viewer.closed=true;viewerStorage.set("ptc_viewer",vm.viewer);$http({method:"POST",url:"/job-details/ptc/api/close-banner"}).then(function successCallback(response){},function errorCallback(){eoChannel.publish(oSmfServices.getSMFChannel(),[eoModelFactory.get("Message",{id:"ptc-close-banner-error",severity:"danger",dismissable:"1",content:"Sorry, we're having trouble displaying these job details. Please try again later."})]);vm.viewer.closed=false})}}function viewerStorage(){return{values:[],set:function(key,value){this.values[key]=value},get:function(key){return this.values[key]}}}})(angular);